---
title: Test Code Highlighting Features
description: Testing line highlighting, additions, and deletions in code blocks
slug: test-code-highlighting
date: January 15, 2025
lastModified: January 15, 2025
tags: ["testing", "code-blocks"]
image: "/blog/world.jpg"
isPublished: true
---

# Testing Code Block Features

This post demonstrates the various code highlighting features available in our enhanced code blocks.

## Basic Code Block

```tsx
function greet(name: string) {
  return `Hello, ${name}!`;
}

const message = greet("World");
console.log(message);
```

## Code Block with Filename

```app/layout.tsx
import { ReactNode } from "react";
import "./globals.css";

export default function Layout({ children }: { children: ReactNode }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}
```

## Highlighting Lines (Blue Highlight)

```typescript{3,5-7}highlight
function calculateTotal(items: number[]) {
  let total = 0;

  for (const item of items) {
    total += item;
  }

  return total;
}
```

## Highlighting Additions (Green)

```javascript{2-4}add
function fetchUser(id: string) {
  // New: Added error handling
  if (!id) {
    throw new Error("User ID is required");
  }

  return fetch(`/api/users/${id}`).then(res => res.json());
}
```

## Highlighting Deletions (Red)

```typescript{3,5}del
function oldFunction() {
  console.log("Starting...");
  // This line will be removed
  const unused = "deprecated";
  // Another line to remove
  console.log("Done!");
}
```

## Shell Commands

```bash
npm install next-intl
cd my-project
npm run dev
```

```zsh
pnpm create-next-app@latest
pnpm install
pnpm dev
```

## Multiple Language Examples

### TypeScript with Additions

```typescript{1,4-6}add
import { useState, useEffect } from "react";

export function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log(`Count changed to ${count}`);
  }, [count]);

  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}
```

### Python with Highlighting

```python{2-4,6}highlight
def calculate_fibonacci(n):
    if n <= 1:
        return n
    return calculate_fibonacci(n-1) + calculate_fibonacci(n-2)

result = calculate_fibonacci(10)
print(f"Fibonacci(10) = {result}")
```

### JSON

```json
{
  "name": "my-app",
  "version": "1.0.0",
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.0.0"
  }
}
```

## Complex Example: Diff-Style Changes

Here's a before and after comparison showing what was removed and what was added:

### Before (Deletions)

```javascript{3-5}del
function processData(data) {
  console.log("Processing...");
  // Old synchronous approach
  const result = heavyComputation(data);
  return result;
}
```

### After (Additions)

```javascript{3-7}add
async function processData(data) {
  console.log("Processing...");
  // New async approach with loading state
  const result = await heavyComputationAsync(data);

  if (!result) {
    throw new Error("Processing failed");
  }

  return result;
}
```

## Inline Code

You can also use inline code like `const foo = "bar"` within your text, and it will be styled appropriately with the theme colors.

## Summary

This demonstrates all the code highlighting features:
- ✅ Basic syntax highlighting with Night Owl theme
- ✅ Filename headers
- ✅ Language badges (TS, JS, TSX, JSX, PY)
- ✅ Line number display
- ✅ Shell prompt (`>`) for bash/zsh commands
- ✅ Copy to clipboard functionality
- ✅ Line highlighting (blue)
- ✅ Addition highlighting (green with `+`)
- ✅ Deletion highlighting (red with `-`)
- ✅ Responsive typography
- ✅ Mobile scrolling with proper background coverage
